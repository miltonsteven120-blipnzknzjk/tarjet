<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Noche Estrellada Viva</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: #000;
}
canvas {
  display: block;
}
</style>
</head>
<body>

<canvas id="scene"></canvas>

<script>
const canvas = document.getElementById("scene");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

/* ---------- ESTRELLAS ---------- */
const stars = Array.from({ length: 300 }, () => ({
  x: Math.random(),
  y: Math.random(),
  r: Math.random() * 1.5 + 0.5,
  a: Math.random() * Math.PI * 2,
  s: Math.random() * 0.5 + 0.2
}));

/* ---------- ANIMACIÃ“N ---------- */
function drawSky() {
  const g = ctx.createLinearGradient(0, 0, 0, canvas.height);
  g.addColorStop(0, "#0b1d3a");
  g.addColorStop(0.6, "#02030f");
  ctx.fillStyle = g;
  ctx.fillRect(0, 0, canvas.width, canvas.height);
}

function drawStars() {
  for (const s of stars) {
    s.a += 0.01 * s.s;
    const alpha = 0.5 + Math.sin(s.a) * 0.5;
    ctx.beginPath();
    ctx.fillStyle = `rgba(255,255,255,${alpha})`;
    ctx.arc(s.x * canvas.width, s.y * canvas.height * 0.7, s.r, 0, Math.PI * 2);
    ctx.fill();
  }
}

function drawRiver(time) {
  const h = canvas.height;
  const w = canvas.width;
  const riverTop = h * 0.55;

  const grad = ctx.createLinearGradient(0, riverTop, 0, h);
  grad.addColorStop(0, "rgba(30,60,120,0.4)");
  grad.addColorStop(1, "rgba(5,10,30,1)");

  ctx.fillStyle = grad;
  ctx.fillRect(0, riverTop, w, h);

  // reflejos
  for (let i = 0; i < 120; i++) {
    const x = Math.random() * w;
    const y = riverTop + Math.random() * (h - riverTop);
    const wave = Math.sin(time * 0.002 + y * 0.05) * 8;

    ctx.fillStyle = "rgba(255,255,255,0.08)";
    ctx.fillRect(x + wave, y, 2, 20);
  }
}

function animate(time) {
  drawSky();
  drawStars();
  drawRiver(time);
  requestAnimationFrame(animate);
}

animate(0);
</script>

</body>
</html>

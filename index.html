<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Noche para Ti</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: black;
}

#start {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  color: white;
  font-family: Georgia, serif;
  z-index: 10;
}

#start span {
  font-size: 90px;
  cursor: pointer;
  animation: beat 1.3s infinite;
}

@keyframes beat {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.25); }
}

#hint {
  opacity: 0.8;
}

#msg {
  position: absolute;
  color: #ffe6f0;
  font-size: 16px;
  font-family: Georgia, serif;
  pointer-events: none;
  animation: fade 4s forwards;
}

@keyframes fade {
  from { opacity: 1; }
  to { opacity: 0; }
}

canvas {
  display: block;
}
</style>
</head>

<body>

<div id="start">
  <span id="heart">❤️</span>
  <div id="hint">tócame</div>
</div>

<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

const frases = [
  "Esta noche también piensa en ti",
  "Nada brilla más que lo que siento",
  "Aquí, el tiempo se calma",
  "Si miras bien, ahí estoy",
  "El amor también sabe esperar",
  "Tu nombre vive en esta noche"
];

let stars = [];
let started = false;

/* Crear estrellas */
function createStars() {
  stars = [];
  for (let i = 0; i < 220; i++) {
    stars.push({
      x: Math.random(),
      y: Math.random() * 0.65,
      r: Math.random() * 1.8 + 0.4,
      phase: Math.random() * Math.PI * 2
    });
  }
}

/* Dibujar cielo */
function drawSky() {
  const g = ctx.createLinearGradient(0,0,0,canvas.height);
  g.addColorStop(0,"#0c1c3a");
  g.addColorStop(0.5,"#040712");
  ctx.fillStyle = g;
  ctx.fillRect(0,0,canvas.width,canvas.height);
}

/* Dibujar estrellas */
function drawStars(t) {
  stars.forEach(s => {
    s.phase += 0.01;
    const a = 0.4 + Math.sin(s.phase) * 0.4;
    ctx.fillStyle = `rgba(255,255,255,${a})`;
    ctx.beginPath();
    ctx.arc(
      s.x * canvas.width,
      s.y * canvas.height,
      s.r,
      0, Math.PI * 2
    );
    ctx.fill();
  });
}

/* Dibujar río */
function drawRiver(t) {
  const h = canvas.height;
  const w = canvas.width;
  const top = h * 0.55;

  const g = ctx.createLinearGradient(0, top, 0, h);
  g.addColorStop(0, "rgba(40,80,150,0.35)");
  g.addColorStop(1, "rgba(5,10,25,1)");
  ctx.fillStyle = g;
  ctx.fillRect(0, top, w, h);

  for (let i = 0; i < 120; i++) {
    const x = Math.random() * w;
    const y = top + Math.random() * (h - top);
    const wave = Math.sin(t * 0.002 + y * 0.04) * 10;
    ctx.fillStyle = "rgba(255,255,255,0.08)";
    ctx.fillRect(x + wave, y, 2, 18);
  }
}

/* Animación */
function animate(t) {
  drawSky();
  drawStars(t);
  drawRiver(t);
  requestAnimationFrame(animate);
}

/* Mostrar frase */
function showMessage(x, y) {
  const m = document.createElement("div");
  m.id = "msg";
  m.style.left = x + "px";
  m.style.top = y + "px";
  m.textContent = frases[Math.floor(Math.random()*frases.length)];
  document.body.appendChild(m);
  setTimeout(()=>m.remove(),4000);
}

/* Interacción */
canvas.addEventListener("click", e => {
  if (!started) return;

  const mx = e.clientX;
  const my = e.clientY;

  for (const s of stars) {
    const sx = s.x * canvas.width;
    const sy = s.y * canvas.height;
    const d = Math.hypot(mx - sx, my - sy);
    if (d < 12) {
      showMessage(mx, my);
      break;
    }
  }
});

/* Inicio */
document.getElementById("heart").onclick = () => {
  document.getElementById("start").style.display = "none";
  started = true;
  createStars();
  animate(0);
};
</script>

</body>
</html>
